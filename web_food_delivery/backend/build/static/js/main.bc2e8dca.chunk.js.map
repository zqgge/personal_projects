{"version":3,"sources":["RestaurantDetailView.module.css","RestaurantUi.module.css","RestaurantList.module.css","OrderStatus.module.css","Home.js","components/RestaurantLoginForm.js","LoginRestaurant.js","components/LoginForm.js","LoginConsumer.js","OrderStatus.js","TopBar.js","RestaurantList.js","RestaurantDetailView.js","CreateMenu.js","RestaurantUI.js","CreateRestaurant.js","OrderHistory.js","PaymentView.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Home","status_save","localStorage","getItem","clear","setItem","to","RestaurantLoginForm","Login","error","useState","email","password","details","setDetails","onSubmit","e","preventDefault","className","htmlFor","type","name","id","onChange","target","value","LoginConsumer","login","setLogin","restaurant_key","setId","username","newRestaurantUser","setNewRestaurantUser","fetch","method","headers","body","JSON","stringify","then","response","text","data","console","log","parse","onClick","alert","createRestaurantLogin","LoginForm","user_key","newUser","setNewUser","createUserLogin","OrderStatus","status","status_info","page_not_updated","check_status","split","window","location","reload","styles","container","TopBar","auth","setAuth","style","paddingRight","RestaurantList","restaurant","setRestaurants","useEffect","restaurantList","map","restaurant_id","product","image","src","imagepath","header","address","i","SortedCart","cart_items","RestaurantDetailView","props","showContent","menu","setMenu","all_restaurants","result","idarr","getMenuById","ViewStatus","setStatus","useParams","find","parseInt","RestaurantView","commonView","menuView","button","menui","includes","products","item_name","menuInfo","CartView","food","summa","money","parseFloat","price","owner_id","shoppingcartContainer","shoppingcart","prodes","menuImage","description","item","a","forEach","message","splice","indexOf","handleDeleteFromCart","ToPayment","margin","restaurantInfo","restaurantImage","operating_hours","restaurant_type","price_level","CreateMenu","submitHandler","rest_id","createMenu","for","RestaurantUI","checkStatus","state","setState","restaurants_by_id","removeItem","CreateRestaurant","createRestaurant","UserHistory","loggedin","user","history","setHistory","restaurant_name","total_price","PaymentView","products_obj","total","products_string","orderer","replace","restaurantOrder","orderer_username","userOrder","submitted","setSubmit","p","rows","cols","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc2e8dca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuView\":\"RestaurantDetailView_menuView___zFXT\",\"shoppingcart\":\"RestaurantDetailView_shoppingcart__15pnV\",\"shoppingcartContainer\":\"RestaurantDetailView_shoppingcartContainer__2SKn_\",\"product\":\"RestaurantDetailView_product__2GEe3\",\"header\":\"RestaurantDetailView_header__1yp4J\",\"commonView\":\"RestaurantDetailView_commonView__1WOeB\",\"button\":\"RestaurantDetailView_button__2ttmc\",\"image\":\"RestaurantDetailView_image__1blJz\",\"restaurantInfo\":\"RestaurantDetailView_restaurantInfo__i4Yit\",\"restaurantImage\":\"RestaurantDetailView_restaurantImage__2snOH\",\"menuInfo\":\"RestaurantDetailView_menuInfo__89DEH\",\"menuImage\":\"RestaurantDetailView_menuImage__1OkRe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"RestaurantUi_product__pXt8W\",\"header\":\"RestaurantUi_header__2mDFU\",\"image\":\"RestaurantUi_image__2AJnh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"RestaurantList_product__2lHsX\",\"header\":\"RestaurantList_header__2Gn4a\",\"image\":\"RestaurantList_image__13Vgk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"OrderStatus_container__3Y75s\"};","\r\nimport { Link } from 'react-router-dom'\r\nimport React from 'react'\r\n\r\n\r\nexport default function Home() {\r\n\r\n  var status_save = localStorage.getItem('status')\r\n  //var order_save = localStorage.getItem('order')\r\n  localStorage.clear();\r\n  localStorage.setItem('status', status_save)\r\n  //localStorage.setItem('order', order_save)\r\n\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <h3>KIRJAUDU SISÄÄN TAI REKISTERÖIDY</h3>\r\n\r\n      <Link to=\"loginconsumer\"><button>ASIAKKAANA</button></Link>\r\n      <Link to=\"loginrestaurant\"><button>RAVINTOLOITSIJANA</button></Link>\r\n      <br/><br/>\r\n\r\n    </div>\r\n  \r\n  )\r\n}\r\n","import React, {useState} from \"react\";\r\n\r\nfunction RestaurantLoginForm({Login, error}) {\r\n    const [details,setDetails] = useState({ email: \"\", password: \"\"});\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n\r\n        Login(details);\r\n    }\r\n    return (\r\n       <form onSubmit={submitHandler}>\r\n           <div className=\"form-inner\">\r\n            <h2>Login </h2> \r\n            {(error != \"\") ? (<div className=\"error\">{error}</div>) : \"\"}\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"name:\">Nimi: </label>\r\n                <input type=\"name\" name=\"name\" id=\"name\" onChange={e => setDetails({...details, name: e.target.value})} value={details.name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input type=\"email\" name=\"email\" id=\"email\" onChange={e => setDetails({...details, email: e.target.value})} value={details.email}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password: </label>\r\n                    <input type=\"password\" name=\"password\" id=\"password\" onChange={e => setDetails({...details, password: e.target.value})} value={details.password}/>\r\n\r\n                </div>\r\n                <input type=\"submit\" value=\"LOGIN\"/>\r\n           </div>\r\n\r\n       </form>\r\n    )\r\n}\r\n\r\nexport default RestaurantLoginForm;","import React, {useState, useEffect} from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport RestaurantLoginForm from './components/RestaurantLoginForm';\r\n\r\nexport default function LoginConsumer() {\r\n\r\n  var [login, setLogin] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [restaurant_key, setId] = useState([]);\r\n  const [newRestaurantUser, setNewRestaurantUser] = useState({username: \"\", password: \"\"});\r\n\r\n  var data_id = ''\r\n\r\n  const Login = details => {\r\n\r\n    fetch('/restaurant_login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(details)\r\n\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        console.log(data)\r\n        setId(JSON.parse(data))\r\n        if(data!=='[]'){\r\n          \r\n          console.log(\"Kirjauduttu sisään\");\r\n          setLogin(true)\r\n        }\r\n          else {\r\n            console.log(\"Kirjautuminen epäonnistui\");\r\n          }});      \r\n        }\r\n\r\n        if (Login){\r\n          localStorage.setItem('restaurant_key', JSON.stringify(restaurant_key));\r\n          localStorage.setItem('auth', 'restaurant');\r\n        }\r\n\r\n  const submitHandler = (e) => {\r\n    alert('a new user was submitted');\r\n    //console.log(details)\r\n    createRestaurantLogin(newRestaurantUser);\r\n  }\r\n\r\n  function createRestaurantLogin(newRestaurantUser) {\r\n    console.log(\"dt:\"+newRestaurantUser)\r\n\r\n    fetch('/create_restaurant_login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(newRestaurantUser)\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        alert(data);\r\n      });\r\n  }\r\n\r\n  const Logout = () => {\r\n    setLogin(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"LoginRestaurant\">\r\n      {(login === true) ? (\r\n        <div className=\"welcome\">\r\n          <Navigate to='/restaurantUi' />\r\n          <button onClick={Logout}>Kirjaudu ulos</button>\r\n        </div> ) : (\r\n      <RestaurantLoginForm Login={Login} error={error}/>\r\n     )}\r\n\r\n<div className=\"menu\"> \r\n<div> morjes omistaja ... </div>\r\n </div>\r\n\r\n <div>\r\n   <h2> Create an account </h2>\r\n  <div>Enter your username</div>\r\n   <section>\r\n               <label htmlFor=\"username\"/> Enter your email <label/>\r\n               <input type=\"text\" name=\"username\" id=\"username\" onChange= { e => setNewRestaurantUser({...newRestaurantUser, username: e.target.value})} value={newRestaurantUser.username}></input>\r\n               <br/><br/>\r\n\r\n               <label htmlFor=\"password\"/> Enter a password <label/>\r\n               <input type=\"text\" name=\"password\" id=\"password\" onChange= { e => setNewRestaurantUser({...newRestaurantUser, password: e.target.value})} value={newRestaurantUser.password}></input>\r\n               <br/><br/>\r\n\r\n        </section>\r\n\r\n        <Link to=\"/restaurantUi\"><button onClick = {submitHandler}> create </button></Link>\r\n </div>\r\n    </div>\r\n  );\r\n\r\n  }\r\n","import React, {useState} from \"react\";\r\n\r\nfunction LoginForm({Login, error}) {\r\n    const [details,setDetails] = useState({ email: \"\", password: \"\"});\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n\r\n        Login(details);\r\n    }\r\n    return (\r\n       <form onSubmit={submitHandler}>\r\n           <div className=\"form-inner\">\r\n            <h2>Login </h2> \r\n            {(error != \"\") ? (<div className=\"error\">{error}</div>) : \"\"}\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"name:\">Nimi: </label>\r\n                <input type=\"name\" name=\"name\" id=\"name\" onChange={e => setDetails({...details, name: e.target.value})} value={details.name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input type=\"email\" name=\"email\" id=\"email\" onChange={e => setDetails({...details, email: e.target.value})} value={details.email}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password: </label>\r\n                    <input type=\"password\" name=\"password\" id=\"password\" onChange={e => setDetails({...details, password: e.target.value})} value={details.password}/>\r\n\r\n                </div>\r\n                <input type=\"submit\" value=\"LOGIN\"/>\r\n           </div>\r\n\r\n       </form>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React, {useState, useEffect} from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport LoginForm from './components/LoginForm';\r\n\r\nexport default function LoginConsumer() {\r\n\r\n  var [login, setLogin] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [user_key, setId] = useState([])\r\n  const [newUser, setNewUser] = useState({username: \"\", password: \"\"});\r\n\r\n\r\n  const Login = details => {\r\n\r\n    fetch('/user_login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(details)\r\n\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        console.log(\"data: \"+data)\r\n        setId(JSON.parse(data))\r\n        if(data!=='[]'){\r\n          \r\n          console.log(\"Kirjauduttu sisään\");\r\n          setLogin(true)\r\n        }\r\n          else {\r\n            console.log(\"Kirjautuminen epäonnistui\");\r\n          }});      \r\n        }\r\n\r\n        if (Login){\r\n          localStorage.setItem('user_key', JSON.stringify(user_key));\r\n          localStorage.setItem('auth', 'user');\r\n        }\r\n\r\n  const submitHandler = (e) => {\r\n    alert('a new user was submitted');\r\n    //console.log(details)\r\n    createUserLogin(newUser);\r\n  }\r\n\r\n  function createUserLogin(newUser) {\r\n    console.log(\"dt:\"+newUser)\r\n\r\n    fetch('/create_user_login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(newUser)\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        alert(data);\r\n      });\r\n  }\r\n\r\n  const Logout = () => {\r\n    setLogin(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"LoginConsumer\">\r\n      {(login === true) ? (\r\n        <div className=\"welcome\">\r\n          <Navigate to='/restaurants' />\r\n          <button onClick={Logout}>Kirjaudu ulos</button>\r\n        </div> ) : (\r\n      <LoginForm Login={Login} error={error}/>\r\n     )}\r\n\r\n<div className=\"menu\"> \r\n<div> Terve herra ... </div>\r\n </div>\r\n\r\n <div>\r\n   <h2> Create an account </h2>\r\n  <div>Enter your username</div>\r\n   <section>\r\n               <label htmlFor=\"username\"/> Enter your username <label/>\r\n               <input type=\"text\" name=\"username\" id=\"username\" onChange= { e => setNewUser({...newUser, username: e.target.value})} value={newUser.username}></input>\r\n               <br/><br/>\r\n\r\n               <label htmlFor=\"password\"/> Enter a password <label/>\r\n               <input type=\"text\" name=\"password\" id=\"password\" onChange= { e => setNewUser({...newUser, password: e.target.value})} value={newUser.password}></input>\r\n               <br/><br/>\r\n\r\n        </section>\r\n\r\n        <Link to=\"/restaurants\"><button onClick = {submitHandler}> create </button></Link>\r\n </div>\r\n    </div>\r\n  );\r\n\r\n  }\r\n","import React, { useState, useEffect } from 'react'\r\nimport {  Link, useParams } from 'react-router-dom'\r\nimport styles from './OrderStatus.module.css'\r\n\r\nexport default function OrderStatus() {\r\n\r\nlet status = localStorage.getItem('status')\r\nif (status !== null){\r\n\r\nlet status_info = JSON.parse(localStorage.getItem('user_key'))\r\nconsole.log(status_info[0].username)\r\n\r\n\r\n// [0]: statusinfo, [1]: orderer_id, [2]: restaurant_id\r\nlet check_status = [] = status.split('...')\r\nconsole.log(check_status[1])\r\n\r\nlet page_not_updated;\r\n\r\nif (check_status[1] === status_info[0].username){\r\n    if (check_status[0] === 'waiting'){\r\n        if (page_not_updated){window.location.reload();page_not_updated = false}\r\n\r\n        return (\r\n        <div className={styles.container}>\r\n        {status_info[1]} <div>TILAUKSENNE ODOTTAA VAHVISTUSTA</div>ARVIOITU TOIMITUSAIKA:<div>{status} min</div></div>\r\n        \r\n    )}\r\n    if (check_status[0] === 'preparing'){\r\n        if (page_not_updated){window.location.reload();page_not_updated = false}\r\n\r\n        return (\r\n        <div className={styles.container}>\r\n        {check_status[0]} <div>TILAUKSENNE ODOTTAA VAHVISTUSTA</div>ARVIOITU TOIMITUSAIKA:<div>{status} min</div></div>\r\n        \r\n    )}\r\n    if (check_status[0] === 'moving'){\r\n        if (page_not_updated){window.location.reload();page_not_updated = false}\r\n\r\n        return (\r\n        <div className={styles.container}>\r\n        {check_status[0]} <div>TILAUKSENNE ODOTTAA VAHVISTUSTA</div>ARVIOITU TOIMITUSAIKA:<div>{status} min</div></div>\r\n        \r\n    )}\r\n        // date: status = JSON.parse(localStorage.getItem('order')) = status.date\r\n        //console.log(status)\r\n        \r\n        else{\r\n        return (\r\n            <div className={styles.container}>\r\n            {status_info[1]} <div>TILAUKSENNE ODOTTAA VAHVISTUSTA</div>ARVIOITU TOIMITUSAIKA:<div>{status} min</div></div>\r\n            \r\n        )}\r\n    }\r\n    else{\r\n        return (\r\n            null)}\r\n        }\r\n\r\n    else{\r\n    return (\r\n        null\r\n    )}\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport React, {useState, useEffect} from 'react'\r\n\r\nexport default function TopBar(){\r\n\r\n    \r\n  let [auth, setAuth] = useState();\r\n\r\n    console.log(\"autti:\" +auth)\r\n    if (auth === 'user'){\r\n            console.log(\"user\"+auth)\r\n        return(\r\n\r\n        <div className=\"topBar\">\r\n              <Link to=\"/restaurants\"><div style={{paddingRight:'50px'}}>RESTAURANTS</div></Link>\r\n              <Link to=\"/orderhistory\"><div style={{paddingRight:'50px'}}>order history</div></Link>\r\n            </div>\r\n            \r\n            )}\r\n            \r\n    else if (auth === 'restaurant'){\r\n        \r\n        console.log(\"rest\"+auth)\r\n        return(\r\n\r\n            <div className=\"topBar\">\r\n                  <Link to=\"/restaurantui\"><div style={{paddingRight:'50px'}}>YOUR RESTAURANTS</div></Link>\r\n                  <Link to=\"/orderhistory\"><div style={{paddingRight:'50px'}}>order history</div></Link>\r\n                </div>\r\n                \r\n            )}\r\n            \r\n            else{\r\n                setAuth(localStorage.getItem('auth'))\r\n                return(\r\n\r\n                    <div className=\"topBar\">\r\n                          Joo\r\n                        </div>\r\n                        \r\n                    )\r\n            }\r\n    }","import React, {useState, useEffect} from 'react'\r\nimport { Link, Outlet } from 'react-router-dom'\r\nimport styles from './RestaurantList.module.css'\r\nimport OrderStatus from './OrderStatus.js';\r\nimport TopBar from './TopBar';\r\n\r\n// Listaa ravintolat sivulle\r\n\r\nexport default function RestaurantList() {\r\n\r\n  \r\n  var user_key = localStorage.getItem('user_key')\r\n  console.log(JSON.parse(user_key))\r\n\r\n  // props.restaurants = ravintolat tallennettuina. Esim. 'props.restaurants.name' = ravintolan nimi\r\n\r\n  const [restaurant, setRestaurants] = useState([]);\r\n  \r\n// Hakee ravintolat tietokannasta. Ravintolat tallentuu 'restaurant' objektiin.\r\nuseEffect(() => {\r\n  getRestaurant();\r\n}, []);\r\nfunction getRestaurant() {\r\n  fetch('/r') // if developing locally: 'http://localhost:3001/r'. If to heroku: '/r'\r\n  .then(response => {\r\n    return response.text();\r\n  })\r\n  .then(data => {\r\n    console.log(\"mooi\" + data)\r\n    setRestaurants(JSON.parse(data));\r\n  });\r\n}\r\n\r\n  if (user_key !== null){\r\n  return (\r\n    <div className={ styles.restaurantList }>\r\n    <div className=\"topBar\">\r\n      <TopBar/>\r\n    </div>\r\n      <Link to=\"/\"><div style={{paddingRight:'50px'}}>Log Out</div></Link>\r\n      {user_key}\r\n    <OrderStatus/>\r\n    \r\n      <div>\r\n      { restaurant.map(restaurant =>\r\n        <Link to={ \"/restaurants/\"+restaurant.restaurant_id }>\r\n          <div className={ styles.product }>\r\n            <div><img className={ styles.image }src={`./images/${restaurant.imagepath}`} /></div><div className={ styles.header }>{restaurant.name}</div><div>{restaurant.address}</div><div>{restaurant.restaurant_id}</div></div>\r\n        </Link>\r\n      )}\r\n      </div>\r\n    </div>\r\n  )}\r\n\r\n  else {\r\n    return(\r\n      <div>\r\n        <div>\r\n          YOU HAVE TO LOG IN\r\n        </div>\r\n        <button><Link to=\"/\"><div style={{paddingRight:'50px'}}>PALAA PÄÄSIVULLE</div></Link></button>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport styles from './RestaurantDetailView.module.css'\r\nimport {  Link, useParams } from 'react-router-dom'\r\nimport RestaurantList from './RestaurantList';\r\nimport OrderStatus from './OrderStatus.js'\r\nimport TopBar from './TopBar';\r\n\r\nlet i = 0;\r\nvar SortedCart = {}\r\nSortedCart.products = []\r\nvar cart_items = [];\r\n\r\n\r\nexport default function RestaurantDetailView(props, showContent) {\r\n\r\n\r\n  // ravintolan menu tallentuu muuttujaarrayhyn 'menu'. Esim. 'menu.item_name' = tuotteen nimi\r\n  const [menu, setMenu] = useState([]);\r\n  const [all_restaurants, setRestaurants] = useState([])\r\n\r\n  //const restaurantid = localStorage.getItem('restaurantdetailkey'+)\r\n\r\n  var user_key = localStorage.getItem('user_key')\r\n  console.log(JSON.parse(user_key))\r\n  let key = JSON.parse(user_key)\r\n\r\n// funktio hakkee menut. Tähän pitää lisätä id minkä mukaan hakee:\r\n  \r\n\r\n  useEffect(() => {\r\n    getRestaurant();\r\n    //getMenu();\r\n    getMenuById();\r\n  }, []);\r\n\r\n  /*function getMenu() {\r\n    fetch('http://localhost:3001/restaurant_menu') // http://localhost:3001/restaurant_menu jos lokaalisti, /restaurant_menu jos heroku\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      console.log(JSON.stringify(data));\r\n      setMenu(JSON.parse(data))\r\n    });\r\n  }*/\r\n\r\n\r\n  function getMenuById(){\r\n    console.log(result.restaurant_id + \"joooo\");\r\nconst idarr = [{id: result.restaurant_id}]\r\n    fetch('/restaurant_menu', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(idarr),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      console.log(\"tata:\"+JSON.parse(data))\r\n      setMenu(JSON.parse(data))\r\n    });\r\n  }\r\n  \r\n\r\nfunction getRestaurant() {\r\n  fetch('/r') // if developing locally: 'http://localhost:3001/r'. If to heroku: '/r'\r\n  .then(response => {\r\n    return response.text();\r\n  })\r\n  .then(data => {\r\n    console.log(\"mooi\" + data)\r\n    setRestaurants(JSON.parse(data));\r\n  });\r\n}\r\n\r\n// status joka määrittelee, näytetäänkö menu vai ostoskori. (myöhemmin shoppingcart omalle sivulle?)\r\n\r\n    const [ViewStatus, setStatus] = useState('')\r\n    \r\n  // Händlää tuotteen lisäämisen listalle cart_items:\r\n\r\n    const handleFoodClick = (menui) => {\r\n      //cart_items[i] = SortedCart.products = menui\r\n      \r\n      console.log(\"HANDLEFOODCLICK\")\r\n      \r\n      if(cart_items.includes(menui)){\r\n        console.log(\"handling \"+JSON.stringify(menui))\r\n        console.log(\"Handling \"+JSON.stringify(cart_items))\r\n          setStatus('menu_view');\r\n      }\r\n  \r\n        else{\r\n          cart_items[i] = SortedCart.products = menui\r\n          i++\r\n        setStatus('shoppingcart');\r\n    \r\n    };}\r\n\r\n    const handleDeleteFromCart = (item) => {    // Status: näytetään ostoskori\r\n      console.log(\"HANDLEDELETE\")\r\n      console.log(\"poistetaan: \"+JSON.stringify(item))\r\n      let a = 0\r\n      console.log(\"1\"+cart_items)\r\n      console.log(\"1\"+JSON.stringify(cart_items))\r\n      cart_items.forEach(function(message){\r\n        //console.log(message)\r\n        if (message === item){\r\n          console.log(\"onsama\"+JSON.stringify(message) + JSON.stringify(item))\r\n          console.log(\"onsamaitem\"+cart_items[a])\r\n          console.log(\"byt poistuu index: \"+JSON.stringify(cart_items[a]))\r\n              cart_items.splice(cart_items.indexOf(a),1)\r\n              console.log(cart_items)\r\n              i = 0            \r\n              setStatus('shoppingcart');             \r\n            }\r\n        else{\r\n              a++}    \r\n          }\r\n        );\r\n    }\r\n      \r\n  const result = useParams();\r\n  const restaurant = all_restaurants.find(restaurant => restaurant.restaurant_id === parseInt(result.restaurant_id));\r\n  if(restaurant == null) {\r\n    console.log(\"terve\" + result.restaurant_id);\r\n    return <div>No matching restaurant</div>\r\n  }\r\n\r\n  const RestaurantView = ({ViewStatus}) => {\r\n\r\n      return(\r\n        <div>\r\n        <div className={styles.header}><h1>Add food to shoppincart</h1></div>\r\n        <div className={styles.commonView}>\r\n            <div className={styles.menuView}>{ menu.map(menu => <div> \r\n            <div className={styles.product}><button className={styles.button} onClick={() => handleFoodClick(menu)}>\r\n               <img className={styles.image} \r\n            src={`/images/${menu.imagepath}`}/> {menu.item_name}</button></div></div>)}</div> </div>\r\n            \r\n            \r\n        <div className={styles.menuInfo}>\r\n        <CartView food={cart_items} />\r\n        </div>\r\n        \r\n       \r\n          \r\n        </div>\r\n      )\r\n    }\r\n\r\n  const CartView = ({food}) => {\r\n    setStatus('menu_view');\r\n    if(food < 1 ){\r\n      \r\n      return(\r\n        <div>\r\n          <p> Cart is empty </p>\r\n        </div>\r\n      )}\r\n      else{\r\n      console.log(\"CARTVIEW\")\r\n\r\n      var summa = 0\r\n      cart_items.map(money => summa = summa+parseFloat(money.price))\r\n      console.log(\"tässä näkyy\" + JSON.stringify(cart_items) + summa)\r\n    \r\n      localStorage.setItem('shoppincart', JSON.stringify(cart_items)+'...'+restaurant.name+'...'+restaurant.owner_id);\r\n    return(<div className={styles.shoppingcartContainer}>\r\n        <div className={styles.shoppingcart}> {cart_items.map(prodes =>\r\n        <div className={styles.shoppingcartContainer}><img className={styles.menuImage} \r\n        src={`/images/${prodes.imagepath}`}/><div style={{}}> { prodes.item_name }<div>{ prodes.description }</div><div>{ prodes.price }</div></div> \r\n          <button style={{}} onClick={() => handleDeleteFromCart(prodes)}><div>DELETE</div></button></div>)}\r\n          LOPPUSUMMA: {summa+\"€\"}<div>\r\n\r\n            <Link to={\"/payment/\"}><button onClick = {ToPayment}  food = {cart_items} summa = {summa} style={{margin:'20px'}}>PAY</button></Link>\r\n            <p>{console.log(cart_items + summa + \"testii\" + food)} </p>\r\n            \r\n          </div>\r\n          </div>\r\n          </div>\r\n           \r\n    )}}\r\n    \r\n    const ToPayment = ({food, summa}) => {\r\n      return(\r\n        console.log(\"mo\" + food + summa)\r\n      )\r\n    }\r\n\r\n// Näyttää ravintolan tiedot sivulla: <button onClick={() => handleDeleteFromCart(prodes)}>delete</button>\r\n\r\n\r\n  if (user_key !== null){\r\n\r\n  return (\r\n    <div>\r\n    <div className=\"topBar\">\r\n      <TopBar/>\r\n    </div>\r\n      <Link to=\"/\"><div style={{paddingRight:'50px'}}>Log Out</div></Link>\r\n    <OrderStatus/><div className={styles.restaurantInfo}><img className={styles.restaurantImage} src={`/images/${restaurant.imagepath}`} />\r\n          ID{restaurant.restaurant_id} {restaurant.name} {restaurant.address}\r\n          {restaurant.operating_hours} {restaurant.restaurant_type} {restaurant.price_level}</div>\r\n        <div>\r\n          <RestaurantView ViewStatus={ViewStatus}/>\r\n        </div>\r\n        </div>\r\n  )\r\n}\r\nelse{\r\n  return (\r\n    <div>You must sign in</div>\r\n  )\r\n\r\n}\r\n}","import { Link, useParams } from 'react-router-dom'\r\nimport React, {useState} from 'react'\r\nimport TopBar from './TopBar';\r\n\r\nexport default function CreateMenu(){\r\n\r\n    const [details, setDetails] = useState({item_name:\"\", description:\"\", price:\"\", imagepath:\"\", owner_id:\"\"});\r\n    const submitHandler = (e) => {\r\n        alert('menu was submitted');\r\n        setDetails(details.owner_id = rest_id )\r\n        //setDetails(details.owner_id = 1);\r\n        createMenu(details);\r\n    }\r\n\r\n    function createMenu(details){\r\n        console.log(details);\r\n\r\n        fetch('/create_restaurant_menu', { \r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(details),\r\n      })\r\n        .then(response => {\r\n          return response.text();\r\n        })\r\n        .then(data => {\r\n          alert(data);\r\n        });\r\n      }\r\n\r\n      const result = useParams();\r\n      const rest_id = result.id\r\n      console.log(rest_id)\r\n      if(rest_id === null) {\r\n        return <div>Something went wrong</div>\r\n      }\r\n\r\n      var restaurant_key = localStorage.getItem('restaurant_key')\r\n\r\n      if (restaurant_key !== null){\r\n\r\n    return (\r\n        <div>\r\n        <div className=\"topBar\">\r\n          <TopBar/>\r\n        </div>\r\n        <h1> Create a menu for your restaurant </h1>\r\n        <br />\r\n\r\n        <section>\r\n            <form onSubmit = {submitHandler}>\r\n               <label for=\"item_name\"/> Enter a name <label/>\r\n               <input type=\"text\" name=\"item_name\" id=\"item_name\" onChange= { e => setDetails({...details, item_name: e.target.value})} value={details.item_name}></input>\r\n               <br/><br/>\r\n\r\n               <label for=\"description\"/> Enter a description <label/>\r\n               <input type=\"text\" name=\"description\" id=\"description\" onChange= { e => setDetails({...details, description: e.target.value})} value={details.description}></input>\r\n               <br/><br/>\r\n\r\n               <label for=\"price\"/> Enter a price <label/>\r\n               <input type=\"text\" name=\"price\" id=\"price\" onChange= { e => setDetails({...details, price: e.target.value})} value={details.price}></input>\r\n               <br/><br/>\r\n\r\n               <label for=\"imagepath\"/> Enter an imagepath for your image <label/>\r\n               <input type=\"text\" name=\"imagepath\" id=\"imagepath\" onChange= { e => setDetails({...details, imagepath: e.target.value})} value={details.imagepath}></input>\r\n               <br/><br/>\r\n\r\n               </form>\r\n\r\n        </section>\r\n\r\n        <Link to=\"/restaurantui\"><button onClick = {submitHandler}> Submit </button></Link>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  else{\r\n    return(\r\n    <div>\r\n        <div>\r\n          YOU HAVE TO LOG IN\r\n        </div>\r\n        <button><Link to=\"/\"><div style={{paddingRight:'50px'}}>PALAA PÄÄSIVULLE</div></Link></button>\r\n        </div>\r\n        )\r\n  }\r\n}\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Link, Outlet } from 'react-router-dom'\r\nimport styles from './RestaurantUi.module.css'\r\nimport TopBar from './TopBar';\r\nimport CreateMenu from './CreateMenu'\r\n\r\nexport default function RestaurantUI(){\r\n\r\n\r\nvar restaurant_key = localStorage.getItem('restaurant_key')\r\n\r\nlet [state, setState] = useState('rest')\r\n\r\nlet rest_id\r\n\r\n\r\n  // props.restaurants = ravintolat tallennettuina. Esim. 'props.restaurants.name' = ravintolan nimi\r\n\r\n  const [restaurant, setRestaurants] = useState([]);\r\n  let checkStatus\r\n  \r\n// Hakee ravintolat tietokannasta. Ravintolat tallentuu 'restaurant' objektiin.\r\n\r\n//muokkaus: only restaurants where id =?\r\n\r\nconst restaurants_by_id = [{id: JSON.parse(restaurant_key)[0].restaurant_id}]\r\n\r\nuseEffect(() => {\r\n  getRestaurantsById();\r\n}, []);\r\nfunction getRestaurantsById(){\r\n    fetch('/myrestaurants', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(restaurants_by_id),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      console.log(\"tata:\"+JSON.parse(data))\r\n      setRestaurants(JSON.parse(data))\r\n    });\r\n  }\r\n\r\n  function handleEditMenu(id){\r\n    rest_id = id\r\n    console.log(rest_id)\r\n    setState('menu')\r\n  }\r\n\r\n\r\n  let status = localStorage.getItem('status')\r\n  console.log(status)\r\n  let check_status = [] \r\n\r\n  if (status !== null){\r\n  // [0]: statusinfo, [1]: orderer_id, [2]: restaurant_id\r\n    check_status = status.split('...')\r\n    console.log(\"tilaus\"+check_status[2])\r\n    console.log(\"id\"+restaurants_by_id[0].id)\r\n\r\n    if (restaurants_by_id[0].id===parseInt(check_status[2])){\r\n      console.log(\"on\")\r\n      checkStatus = true\r\n    }\r\n    else {\r\n      console.log(\"ei\")\r\n      checkStatus = false\r\n    }\r\n  }\r\n\r\n    function setStatus(){\r\n      console.log(localStorage.getItem('status'))\r\n        if (check_status[0] === 'waiting'){\r\n          console.log(status)\r\n          localStorage.setItem('status', 'preparing'+'...'+check_status[1]+'...'+check_status[2])\r\n          window.location.reload()\r\n        }\r\n        else if (check_status[0] === 'preparing'){\r\n          localStorage.setItem('status', 'moving'+'...'+check_status[1]+'...'+check_status[2])\r\n          window.location.reload()\r\n        }\r\n        else {\r\n            localStorage.removeItem('status')\r\n            window.location.reload()\r\n        }\r\n    }\r\n  \r\n\r\n  if (restaurant_key !== null){\r\n\r\n    if (state !== 'menu'){\r\n\r\n  return (\r\n    <div className={ styles.restaurantList }>\r\n    <div className=\"topBar\">\r\n      <TopBar/>\r\n    </div>\r\n      <Link to=\"/\"><div style={{paddingRight:'50px'}}>Log Out</div></Link>\r\n      {restaurant_key}\r\n      <div>{(checkStatus) ? (<div>You have and open order: {status}<div><button onClick={setStatus}>CHANGE STATUS</button></div></div>) : (<div></div>)}\r\n          \r\n      { restaurant.map(restaurant =>\r\n          <div className={ styles.product }>\r\n            <div><img className={ styles.image }src={`./images/${restaurant.imagepath}`} /></div>\r\n            <div className={ styles.header }>{restaurant.name}</div>\r\n            <div>{restaurant.address}</div><div>{restaurant.restaurant_id}<Link to={ \"createmenu/\"+restaurant.restaurant_id }> <button className={styles.button}onClick={() => handleEditMenu(restaurant.restaurant_id)}></button></Link></div></div>\r\n      )}\r\n      </div>\r\n      <Link to=\"createrestaurant\"><button> Create </button></Link>\r\n    </div>\r\n  )}\r\nelse {\r\n  return(\r\n  <CreateMenu rest_id = {rest_id}/>\r\n  )\r\n}\r\n}\r\n\r\n  else {\r\n    return(\r\n    <div className=\"restaurantInfo\">\r\n        INFO\r\n      </div>\r\n      )\r\n  }\r\n}","import { Link } from 'react-router-dom'\r\nimport React, {useState} from 'react'\r\nimport TopBar from './TopBar';\r\n\r\nexport default function CreateRestaurant(){\r\n\r\n  const [details, setDetails] = useState({name:\"\", address:\"\", operating_hours:\"\", imagepath:\"\", restaurant_type:\"\", price_level:\"\", owner_id:\"\"});\r\n\r\n\r\n  const submitHandler = (e) => {\r\n    alert('restaurant was submitted');\r\n    setDetails(details.owner_id = JSON.parse(localStorage.getItem('restaurant_key'))[0].restaurant_id)\r\n    console.log(details)\r\n    createRestaurant(details);\r\n    \r\n  }\r\n  console.log(JSON.parse(localStorage.getItem(('restaurant_key'))))\r\n\r\n \r\n  function createRestaurant(details) {\r\n\r\n    console.log(\"dt:\"+details)\r\n\r\n    fetch('/restaurant', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(details)\r\n\r\n    })\r\n      .then(response => {\r\n        return response.text();\r\n      })\r\n      .then(data => {\r\n        alert(data);\r\n      });\r\n  }\r\n\r\n\r\n    return(\r\n\r\n       <div>\r\n           <h2> Add a restaurant </h2>\r\n           <br/>\r\n\r\n           <form onSubmit={submitHandler}>\r\n           <section>\r\n               <label for=\"name\"/> Enter a name <label/>\r\n               <input type =\"text\" name=\"name\" id=\"name\" onChange = {e => setDetails({ ...details, name: e.target.value})} value = {details.name} ></input>\r\n               <br/><br/>\r\n\r\n               <label for=\"address\"/> Enter an address <label/>\r\n               <input type=\"text\" name=\"address\" id=\"address\" onChange= { e => setDetails({ ...details, address: e.target.value})} value={details.address}></input>\r\n               <br/><br/>\r\n    \r\n\r\n               <label for=\"hours\"/> Enter the operating hours <label/>\r\n               <input type=\"text\" name=\"hours\" id=\"hours\" onChange= { e => setDetails({...details, operating_hours: e.target.value})} value={details.operating_hours}></input>\r\n               <br/><br/>\r\n               \r\n               <label for=\"imagepath\"/> Enter a file path for your image <label/>\r\n               <input type=\"text\" name=\"imagepath\" id=\"imagepath\" onChange= { e => setDetails({...details, imagepath: e.target.value})} value={details.imagepath}></input>\r\n               <br/><br/>\r\n               \r\n\r\n               <span> Enter the restaurant type </span>\r\n               <br/>\r\n               <input type=\"radio\" name=\"type\" id=\"buffet\" value=\"buffet\" onChange= { e => setDetails({...details, restaurant_type: e.target.value})} />\r\n               <label for=\"buffet\"> Buffet </label>\r\n              \r\n\r\n               <input type=\"radio\" name=\"type\" id=\"fastfood\" value=\"fastfood\" onChange= { e => setDetails({...details, restaurant_type: e.target.value})}/>\r\n               <label for=\"fastfood\"> Fast food </label>\r\n    \r\n\r\n               <input type=\"radio\" name=\"type\" id=\"fastcasual\" value=\"fastcasual\" onChange= { e => setDetails({...details, restaurant_type: e.target.value})}/>\r\n               <label for=\"fastcasual\"> Fast casual </label>\r\n              \r\n\r\n               <input type=\"radio\" name=\"type\" id=\"casualdining\" value=\"casualdining\" onChange= { e => setDetails({...details, restaurant_type: e.target.value})}/>\r\n               <label for=\"casualdining\"> Casual dining </label>\r\n     \r\n\r\n               <input type=\"radio\" name=\"type\" id=\"finedining\" value=\"finedining\" onChange= { e => setDetails({...details, restaurant_type: e.target.value})}/>\r\n               <label for=\"finedining\"> Fine dining </label>\r\n\r\n               <br/><br/>\r\n\r\n               <span> Enter the price level</span>\r\n               <br/>\r\n               <input type=\"radio\" name=\"price\" id=\"price1\" value=\"o\" onChange= { e => setDetails({...details, price_level: e.target.value})}/>\r\n               <label for=\"price1\"> € </label>\r\n        \r\n\r\n               <input type=\"radio\" name=\"price\" id=\"price2\" value=\"oo\" onChange= { e => setDetails({...details, price_level: e.target.value})}/>\r\n               <label for=\"price2\"> €€ </label>\r\n       \r\n\r\n               <input type=\"radio\" name=\"price\" id=\"price3\" value=\"ooo\" onChange= { e => setDetails({...details, price_level: e.target.value})}/>\r\n               <label for=\"price3\"> €€€ </label>\r\n      \r\n\r\n               <input type=\"radio\" name=\"price\" id=\"price4\" value=\"oooo\" onChange= { e => setDetails({...details, price_level: e.target.value})}/>\r\n               <label for=\"price4\"> €€€€ </label>\r\n               \r\n\r\n           </section>\r\n           </form>\r\n\r\n           <Link to=\"createmenu\"><button onClick= {submitHandler}> Submit </button></Link>\r\n           \r\n       </div> \r\n       \r\n       \r\n    );\r\n\r\n}","import React, {useState, useEffect} from 'react'\r\nimport TopBar from './TopBar';\r\n\r\nimport { Link, Outlet } from 'react-router-dom'\r\n\r\nexport default function UserHistory(props){\r\n\r\n    let auth = localStorage.getItem('auth');\r\n    let loggedin = localStorage.getItem(auth+'_key')\r\n    let user = JSON.parse(loggedin)[0];\r\n    console.log(\"loggedin\"+loggedin)\r\n    console.log(\"user\"+user)\r\n\r\n    const [history, setHistory] = useState([]);\r\n\r\n    console.log(JSON.stringify(user))\r\n\r\n    \r\n    useEffect(() => {\r\n      if (auth === 'user'){\r\n      getOrderHistoryUser();\r\n      }\r\n      if(auth === 'restaurant'){\r\n        getOrderHistoryRestaurant();}\r\n    }, []);\r\n\r\n    \r\n\r\n    function getOrderHistoryUser() {\r\n      fetch('/restaurantorderhistory', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      console.log(\"data:\"+data)\r\n      setHistory(JSON.parse(data))\r\n    }) }\r\n    \r\n    function getOrderHistoryRestaurant() {\r\n      fetch('/userorderhistory', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      console.log(\"data:\"+data)\r\n      setHistory(JSON.parse(data))\r\n    }) }\r\n      \r\n\r\n    if (auth !== null){\r\n      console.log(loggedin)\r\n      \r\n      if (auth === 'user'){\r\n\r\n      return(\r\n        <div>\r\n        <div className=\"topBar\">\r\n          <TopBar/>\r\n        </div>\r\n          <Link to=\"/\"><div style={{paddingRight:'50px'}}>Log Out</div></Link>\r\n            <h3> käyttäjän tekemät tilaukset </h3>\r\n            <div className=\"orderHistory\"> \r\n            { history.map(history =>\r\n               <>\r\n               <br/>\r\n               <div> {history.restaurant_name} </div>\r\n               <div> {history.products} </div>\r\n               <div> {history.total_price} </div>\r\n               </>\r\n            )}\r\n            </div></div>)}\r\n\r\n      if (auth === 'restaurant'){\r\n\r\n        return (\r\n          <div>\r\n          <div className=\"topBar\">\r\n            <TopBar/>\r\n          </div>\r\n            <h3> ravintolalle tallennetut tilaukset </h3>\r\n            <div className=\"orderHistoryRestaurant\"> \r\n            { history.map(history =>\r\n               <>\r\n               <br/>\r\n               <div> {history.restaurant_name} </div>\r\n               <div> {history.products} </div>\r\n               <div> {history.total_price} </div>\r\n               </>\r\n            )}\r\n            </div></div>)}\r\n    \r\n    \r\n    else{\r\n    return(\r\n      <div>\r\n        <div>\r\n          YOU HAVE TO LOG IN\r\n        </div>\r\n        <button><Link to=\"/\"><div style={{paddingRight:'50px'}}>PALAA PÄÄSIVULLE</div></Link></button>\r\n        </div>\r\n    )}\r\n}}\r\n","\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport React, {useState} from 'react'\r\nimport TopBar from './TopBar';\r\n\r\nvar submitted = false\r\n\r\nexport default function PaymentView(props){\r\n\r\n\r\n    var shoppingcart = localStorage.getItem('shoppincart')\r\n    console.log(\"cart:\"+shoppingcart)\r\n\r\n    var products = shoppingcart.split('...')\r\n    console.log(products[0])\r\n\r\n    var products_obj = JSON.parse(products[0])\r\n\r\n    var total = 0\r\n    var products_string = ''\r\n    var restaurant_name = products[1]\r\n    var owner_id = products[2]\r\n    console.log(products[1])\r\n   \r\n    var orderer = JSON.parse(localStorage.getItem('user_key'))\r\n    orderer = JSON.stringify(orderer[0].username)\r\n    orderer = orderer.replace('\"','').replace('\"','')\r\n    console.log(\"orderer: \"+orderer)\r\n\r\n\r\n    // products[0]: muut\r\n    //products[1]: ravintolan nimi\r\n    // products[2]: ravintolan id\r\n\r\n    const restaurantOrder = {orderer_username: \"\", products:\"\", total_price:\"\", owner_id:\"\", restaurant_name:\"\"};\r\n    const userOrder = {restaurant_name: \"\", products:\"\", total_price:\"\"};\r\n    var [submitted, setSubmit] = useState(false)\r\n\r\n    function CreateRestaurantOrder(){\r\n      \r\n        restaurantOrder.orderer_username = orderer    // tilaajan nimi\r\n        restaurantOrder.products = products_string   // tuotteet\r\n        restaurantOrder.total_price = total   // hinta\r\n        restaurantOrder.owner_id = owner_id   // ravintolanomistajan id\r\n        restaurantOrder.restaurant_name = restaurant_name    // reavintolan nimi\r\n\r\n        userOrder.restaurant_name = restaurant_name    // reavintolan nimi\r\n        userOrder.products = products_string   // tuotteet\r\n        userOrder.total_price = total   // hinta\r\n        \r\n\r\n        console.log(\"order: \"+JSON.stringify(restaurantOrder))\r\n        localStorage.setItem('order', JSON.stringify(restaurantOrder))\r\n        console.log(\"order:\"+localStorage.getItem('order'))\r\n    \r\n    fetch('/restaurant_orderhistory', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(restaurantOrder),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      alert(data);\r\n    })\r\n\r\n    fetch('/user_orderhistory', { \r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(userOrder),\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      alert(data);\r\n    })\r\n    localStorage.setItem('status', 'waiting'+'...'+orderer+'...'+owner_id)\r\n    setSubmit(true)\r\n  }\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n        <div className=\"topBar\">\r\n          <TopBar/>\r\n        </div>\r\n            <Link to=\"/\"><div style={{paddingRight:'50px'}}>Log Out</div></Link>\r\n        {console.log(submitted)}{(submitted === true) ? (\r\n            <div>\r\n                {console.log(submitted)}{<Navigate to='/restaurants' />}\r\n            </div> ) : (<div>\r\n         \r\n    \r\n                <h3> your order: </h3>{products_obj.map(p => <div> {p.item_name} {p.price}  \r\n                <script>\r\n                    \r\n                    {total+=parseInt(p.price)}\r\n                    {products_string+=p.item_name+','}\r\n                \r\n                </script>\r\n                \r\n                </div> )}\r\n                <h3> total price: </h3> <div>{total} e</div>\r\n                \r\n                <label htmlFor=\":\"> Select a delivery location </label>\r\n                <input type=\"text\" name=\"delivery\" id=\"delivery\" />\r\n                <br/><br/>\r\n\r\n                <label htmlFor=\":\"> Special requests for your order </label>\r\n                <br/>\r\n                <textarea name=\"request\" id=\"request\" rows=\"3\" cols=\"40\"/>\r\n                <br/><br/>\r\n\r\n                <h3> Select a payment method</h3>\r\n\r\n                <p>\r\n                <label for=\"pay1\"> Visa </label>\r\n                <input type=\"radio\" name=\"pay\" id=\"pay1\" value=\"Visa\" />\r\n                <br/><br/>\r\n\r\n                <label for=\"pay2\"> Mastercard </label>\r\n                <input type=\"radio\" name=\"pay\" id=\"pay1\" value=\"Mastercard\" />\r\n                <br/><br/>\r\n\r\n                <label for=\"pay2\"> American Express </label>\r\n                <input type=\"radio\" name=\"pay\" id=\"pay1\" value=\"AmericanExpress\" />\r\n                </p><br/>\r\n\r\n                <h3> Enter your credit card information </h3>\r\n\r\n                <label htmlFor=\":\"> Enter your  cardnumber </label>\r\n                <input type=\"text\" name=\"cardnumber\" id=\"cardnumber\" />\r\n                <br/><br/>\r\n\r\n                \r\n                <label htmlFor=\":\"> Date of expiration </label>  \r\n                <br/>\r\n                <label htmlFor=\":\"> month  </label>\r\n                <select name=\"month\" id=\"month\">\r\n                <option value=\"01\">01</option><option value=\"02\">02</option><option value=\"03\">03</option><option value=\"04\">04</option>\r\n                <option value=\"05\">05</option><option value=\"06\">06</option><option value=\"07\">07</option><option value=\"08\">08</option>\r\n                <option value=\"09\">09</option><option value=\"10\">10</option><option value=\"11\">11</option><option value=\"12\">12</option>\r\n                </select>\r\n\r\n                <label htmlFor=\":\"> year  </label>\r\n                <select name=\"year\" id=\"year\">\r\n                <option value=\"01\">21</option><option value=\"02\">22</option><option value=\"03\">23</option><option value=\"04\">24</option><option value=\"04\">25</option>\r\n                <option value=\"04\">26</option><option value=\"04\">27</option>\r\n                </select>\r\n\r\n                <br/>\r\n                <label htmlFor=\":\"> CVC </label>\r\n                <textarea name=\"cardnumber\" id=\"cardnumber\" cols=\"3\" rows=\"1\"/>\r\n\r\n                <br/><br/>\r\n                \r\n            <button onClick = {CreateRestaurantOrder}> Submit order {console.log(submitted)}</button></div>)}\r\n                </div>\r\n    )\r\n}","import './App.css';\r\nimport Home from './Home';\r\nimport LoginRestaurant from './LoginRestaurant'\r\nimport LoginConsumer from './LoginConsumer';\r\nimport RestaurantList from './RestaurantList'\r\nimport RestaurantDetailView from './RestaurantDetailView'\r\nimport RestaurantUI from './RestaurantUI';\r\nimport CreateRestaurant from './CreateRestaurant';\r\nimport OrderHistory from './OrderHistory';\r\nimport PaymentView from './PaymentView';\r\nimport TopBar from './TopBar'\r\n\r\nimport { BrowserRouter, Routes, Route, Link, Navigate } from 'react-router-dom';\r\nimport React, {useState, useEffect} from 'react'\r\nimport CreateMenu from './CreateMenu';\r\n\r\n\r\nfunction App() {\r\n\r\n// vanha deleterestaurant, poistuu:\r\n    /*\r\nfunction deleteRestaurant() {\r\n  let id = prompt('Enter restaurant id');\r\n  fetch(`http://localhost:3001/restaurant/${id}`, { // if developing locally: 'http://localhost:3001/restaurant/${id}'. If to heroku: '/restaurant/{$id}'\r\n    method: 'DELETE',\r\n  })\r\n    .then(response => {\r\n      return response.text();\r\n    })\r\n    .then(data => {\r\n      alert(data);\r\n      getRestaurant();\r\n    });\r\n}\r\n*/\r\n\r\n\r\n  return (\r\n    <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={ <Home /> } />\r\n          <Route path=\"/loginrestaurant\" element={ <LoginRestaurant /> } />\r\n          <Route path=\"/loginconsumer\" element={ <LoginConsumer /> } />\r\n          <Route path=\"/restaurants\" element={ <RestaurantList /> } />\r\n          <Route path=\"/restaurants/:restaurant_id/*\" element={ <RestaurantDetailView restaurant={RestaurantDetailView}/> } />\r\n          <Route path=\"restaurantUi/createmenu/:id/*\" element={ <CreateMenu rest_id={CreateMenu}/> } />\r\n          <Route path=\"/restaurantui\" element = { <RestaurantUI /> } />\r\n          <Route path=\"/restaurantui/createrestaurant\" element = { <CreateRestaurant /> } />\r\n          <Route path=\"/orderhistory\" element = { <OrderHistory /> } />\r\n          <Route path=\"/payment\" element = { <PaymentView /> } />\r\n\r\n        </Routes>\r\n\r\n        <br/><br/><br/><br/><br/><br/>\r\n        \r\n        \r\n    </BrowserRouter>\r\n  );\r\n\r\n/*\r\n<button onClick={deleteRestaurant}>Delete restaurant</button><br/><br/>\r\n*/\r\n\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}